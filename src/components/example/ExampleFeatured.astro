---
import {marked} from "marked";
import {Image} from 'astro:assets';
import SectionWrapper from "../SectionWrapper.astro";
import {buildImageUrl} from "../../lib/directus";
const { title, message, image, bulletpoints } = Astro.props;

const content = message ? marked.parse(message) : undefined;

---

<SectionWrapper bgSecondary>

    <div class="container">
        <div class="mb translate-y-0 transform text-center opacity-100 transition-all duration-1000 ease-out is-visible">
            <h3 class="max-w-4xl mx-auto my-2 text-7xl font-extrabold leading-8 tracking-tight sm:text-4xl">{title}</h3>
            <span class="mx-auto mt-4 max-w-7xl text-xl">
                <article set:html={content}/>
            </span>
        </div>
        {image &&
            (
                    <div class="shadow rounded-lg border-4 overflow-hidden transition-all duration-500 ease-out hover:scale-105 is-visible">
                        <Image class="w-full"  src={buildImageUrl(image)} alt={image.title ?? "image"} inferSize width={image.width} height={image.height}/>
                    </div>
            )
        }
        <div class="mt-16 is-visible">
            <div class="gap-sm grid translate-y-0 transform pb-4 opacity-100 transition-all duration-1000 ease-out sm:grid-cols-2 lg:grid-cols-3">
                {bulletpoints?.map((b) => {
                   return (
                           <div class="feature-item relative translate-y-0 transform rounded-lg border p-6 opacity-100 shadow-md transition-all duration-500 ease-out hover:scale-105 is-visible">
                               <dt class="mb-4 flex items-center">
                                   <div class="mr-4 flex h-12 w-12 items-center justify-center rounded-md bg-highlight text-white">
                                       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-workflow"><rect width="8" height="8" x="3" y="3" rx="2"></rect><path d="M7 11v4a2 2 0 0 0 2 2h4"></path><rect width="8" height="8" x="13" y="13" rx="2"></rect></svg>
                                   </div>
                                   <p class="text-lg font-medium leading-6">{b.key}</p>
                               </dt>
                               <dd class="text-base text-muted">
                                   {b.text}
                               </dd>
                           </div>
                   )
                })}
            </div>
        </div>
    </div>

</SectionWrapper>
